## Лаба 9. Ваш собственный алгоритм рекомендаций фильмов

##### [![New Professions Lab — Big Data 10](/extra/images/npl7.svg)](https://github.com/newprolab/content_bigdata10)

### Дедлайн

⏰ Четверг, 13 июня 2019 года, 23:59.

### Задача

Нужно построить рекомендательный алгоритм наилучшей предсказательной точности по метрике RMSE.

### Обработка данных на вход

Имеются следующие входные данные:

* Имеется табличка рейтингов `train.csv`. Формат: `userId, movieId, rating`. Вам отдаётся случайная половина этой таблички (рандомизация по items и users), половина остается нам. Мы используем скрытый датасет для оценки качества предсказания по RMSE. 
* Табличка `tags.csv` с текстовыми тэгами, которые пользователя проставил фильму. Формат: `userId, movieId, tag`.
* Табличка `movies.csv` с названием фильма и его жанром. Формат: `movieId, title, genres`.
* Табличка `links.csv` соответствия id фильма с базами данных imdb и themoviedb, в которых можно найти дополнительные характеристики фильмов. Формат: `movieId, imdbId, tmdbId`. 
* Табличка `test.csv`, для которой надо сгенерировать предсказания.

Для выполнения работы вам следует взять все файлы из папки на HDFS `/labs/lab09data/`.

### Подсказки

* Вы можете использовать любые алгоритмы и их смеси (NP, User-user, Item-item, SVD, ALS...) для предсказания рейтингов. 
* Вы также можете использовать дополнительные content данные для обогащения вашего алгоритма (`tags.csv, movies.csv, links.csv`)
* Обучив свой алгоритм на таблице с рейтингами `train.csv`, нужно сгенерировать предсказания для таблички `test.csv` и засабмитить.
* В `test.csv` могут попасть пользователи, по которым у вас в `train.csv` нет (или мало) наблюдений. Придумайте, что с ними делать (дефолтные рейтинги?).

### Проверка

Мы будем оценивать точность работы вашего алгоритма по метрике среднего квадратичного отклонения предсказанного рейтинга от истинного рейтинга RMSE: 

<img width="350px" src="laba09_rmse.png">

**Важно!** Для точной проверки сохраняйте порядок и количество строк исходного файла `test.csv` (сортировка там идет по целочисленному `userId`, а потом по `movieId`). Названия колонок и сепаратор так же следует сохранить. Файл `test.csv` сам является образцом для засылки.

**Если RMSE вашей рекомендательной системы будет ниже 0.9, то лаба будет засчитана.**

Результат следует сохранить в файл `lab09.csv` в своей домашней директории.

Проверка осуществляется [автоматическим скриптом](http://lk.newprolab.com/lab/laba09) из Личного кабинета.




